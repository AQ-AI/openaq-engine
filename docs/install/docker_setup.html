
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Docker setup &#8212; openaq-engine 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Local Environment Setup" href="local_env_setup.html" />
    <link rel="prev" title="Local Postgres setup" href="postgres_setup.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="docker-setup">
<h1>Docker setup<a class="headerlink" href="#docker-setup" title="Permalink to this heading">¶</a></h1>
<section id="adding-aws-ssh-keypair-to-github-repos">
<h2>Adding aws ssh keypair to github repos<a class="headerlink" href="#adding-aws-ssh-keypair-to-github-repos" title="Permalink to this heading">¶</a></h2>
<p>On your local machine, generate a ssh keypair using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ssh-keygen -t rsa -b <span class="m">4096</span> -C <span class="o">[</span>your email address<span class="o">]</span>
</pre></div>
</div>
<p>When interactively saving, append your first name to the key so as not to overwrite permissions.
Alter permissions such that:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chmod <span class="m">600</span> ~/.ssh/id_rsa
</pre></div>
</div>
<p>and add to <cite>known_keys</cite></p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>ssh-add -k ~/.ssh/id_rsa
</pre></div>
</div>
<p>Then copy:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>cat ~/.ssh/id_rsa.pub   # copy to clipboard
</pre></div>
</div>
<p>Add this key to your settings on [github](<a class="reference external" href="https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account">https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account</a>)</p>
</section>
<section id="add-user-to-docker-group">
<h2>Add user to docker group<a class="headerlink" href="#add-user-to-docker-group" title="Permalink to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo usermod -aG docker <span class="nv">$USER</span>
</pre></div>
</div>
<p>Build docker image</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker build openaq-engine -t openaq_engine_app --build-arg <span class="nv">ssh_prv_key</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>cat ~/.ssh/id_rsa<span class="k">)</span><span class="s2">&quot;</span> --build-arg <span class="nv">ssh_pub_key</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>cat ~/.ssh/id_rsa.pub<span class="k">)</span><span class="s2">&quot;</span>
</pre></div>
</div>
</section>
</section>
<section id="id1">
<h1>Docker setup<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h1>
<section id="executing-docker">
<h2>Executing docker<a class="headerlink" href="#executing-docker" title="Permalink to this heading">¶</a></h2>
<p>To enter the docker development environment run the following</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker <span class="nb">exec</span> -it <span class="o">{</span>name_of_your_docker_container<span class="o">}</span> bash
</pre></div>
</div>
<p>(to find the name of the docker container run <cite>docker ps</cite> and it will be the one you just made!)</p>
<p>After entering the container, you may need to pull from the remote git repository. in order to do so with this user, please configure your github profile using the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git config --global user.name <span class="s2">&quot;{your github username}&quot;</span>
git config --global user.email <span class="s2">&quot;{yout github email address}&quot;</span>
</pre></div>
</div>
<p>then install the package locally using the command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -e .
</pre></div>
</div>
<p>To test the installation run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>openaq-engine --help
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">openaq-engine</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="aws_setup.html">Connecting to EC2</a></li>
<li class="toctree-l1"><a class="reference internal" href="postgres_setup.html">Local Postgres setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Docker setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adding-aws-ssh-keypair-to-github-repos">Adding aws ssh keypair to github repos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-user-to-docker-group">Add user to docker group</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#id1">Docker setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#executing-docker">Executing docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="local_env_setup.html">Local Environment Setup</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="postgres_setup.html" title="previous chapter">Local Postgres setup</a></li>
      <li>Next: <a href="local_env_setup.html" title="next chapter">Local Environment Setup</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Christina Last, Prithviraj Pramanik.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/install/docker_setup.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>